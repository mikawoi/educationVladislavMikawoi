![[Pasted image 20240107153146.png]]

```cpp
class ClassName {
	public:
	protected:
	private:
}
```
```cpp
class ClassName {
	public:
		//
	private:
		int x_{0};
}
```

Доступ к членам аналогично структурам

Конструктор

- имя метода совпадает с именем типа
- не возвращает значений
- вызывается автоматически
- создает экземпляр (инициализируется)

```cpp
Point::Point(const int x, const int y);
```

Список инициализации

- сконструированный объект должен быть инициализирован
- умолчательный инициализатор игнорируется

Порядок инициализации

- определяется порядком объявления переменных в классе
- не зависит от порядка в списке инициализации
- стоит инициализировать в порядке объявления

Конструктор можно перегружать

##### Конвертирующий конструктор 
- имеет ровно один параметр
- может вызываться неявно, поэтому стоит использовать explicit для запрета
Например, если у нас есть классы A и B, и у класса B есть конвертирующий конструктор, то мы можем создать объект типа B, передав объект типа A в качестве аргумента конструктора. Таким образом, объект типа A будет автоматически преобразован в объект типа B.

Деструктор

- имя метода строится из имени типа
- не принимает аргументов
- не возвращает значений
- разрушает экземпляр (при необходимости)
- вызывается автоматически
![[Pasted image 20240107153855.png]]

Деструктор всегда нужно объявить и явно указать использование сгенерированного варианта (default) 
```cpp
~Complex () = default;
```

Указатель на экземпляр this

- доступен внутри экземплярных методов
- содержит адрес текущего экземпляра
```cpp
T& operator=(const T& rhs) {
	//...
	return *this;
}
```
![[Pasted image 20240107154113.png]]

![[Pasted image 20240107154127.png]]

![[Pasted image 20240107154139.png]]
![[Pasted image 20240107154147.png]]
![[Pasted image 20240107154157.png]]
![[Pasted image 20240107154223.png]]

Префиксный
```cpp
T& T::operator++() {
	//...
	return *this;
}
```
Постфиксный
```cpp
T T::operator(int) {
	T initValut = *this;
	++(*this);
	return initValue;
}
```

![[Pasted image 20240107154455.png]]
![[Pasted image 20240107154627.png]]

Переопределенный смысл

- должен сохраняться
- должен быть переопределен для всех вариантов операторов
![[Pasted image 20240107154725.png]]

![[Pasted image 20240107154745.png]]

Принцип минимальности интерфейса

- минимизировать число функций, манипулирующих с представлением объекта
- реализовывать к классе только те операторы, которые модифицируют значение только первого аргумента
![[Pasted image 20240107154904.png]]

Рекомендации к перегрузкам операторов

- перегружать умеренно и осмысленно
- использовать операторы для имитации привычной формы записи
- минимизировать создание временных объектов
- обеспечивать полный набор перегруженных операторов
- минимизировать количество независимых операторов
![[Pasted image 20240107155040.png]]

![[Pasted image 20240107155052.png]]


Классы ввода/вывода

- ostream
  - поток вывода (класс)
  - глобальные объекты cout, cerr, clog
- istream
  - поток ввода (класс)
  - глобальный объект cin
Особенности перегрузки этих операторов

- левым аргументом является экземпляр класса стандартной библиотеки
- модификация класса левого аргумента невозможна или нежелательна

![[Pasted image 20240107155406.png]]
![[Pasted image 20240107155420.png]]

### Друзья

- метод
  - имеет доступ к закрытой части объявления
  - находится в области видимости класса
  - должен вызываться для экземпляров класса (наличие указателя this)

- друг (friend - функция или friend - класс) 
  - имеет доступ к закрытой части объявления

friend - функция
- указывается в объявлении класса, другом которого она является
- может указываться в любой секции (private, ... )
использовать friend не рекомендуется

допустимо
- реализация сильно связанных концепций
- удовлетворение обоснованных требований по оптимизации![[Pasted image 20240107155842.png]]

![[Pasted image 20240107155856.png]]
![[Pasted image 20240107155907.png]]
![[Pasted image 20240107155917.png]]
![[Pasted image 20240107155924.png]]
![[Pasted image 20240107155932.png]]
![[Pasted image 20240107155940.png]]
![[Pasted image 20240107155954.png]]
![[Pasted image 20240107160047.png]]

Поля-ссылки

- сильно связанные данные (классы)
- инициализируются в списке инициализации
- блокируют создание умолчательного конструктора 
![[Pasted image 20240107160249.png]]
![[Pasted image 20240107160332.png]]
![[Pasted image 20240107160354.png]]
![[Pasted image 20240107160410.png]]
![[Pasted image 20240107160422.png]]
![[Pasted image 20240107160433.png]]
